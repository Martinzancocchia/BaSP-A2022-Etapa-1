window.onload=()=>{var inputName=document.querySelector("#name"),inputSurname=document.querySelector("#surname"),inputID=document.querySelector("#id"),inputPhone=document.querySelector("#phone"),inputBirth=document.querySelector("#birth"),inputAddress=document.querySelector("#address"),inputCity=document.querySelector("#city"),inputZipcode=document.querySelector("#zipcode"),inputEmail=document.querySelector("#email"),inputPassword=document.querySelector("#password"),inputRPassword=document.querySelector("#rPassword"),allInputs=document.querySelectorAll("input"),buttonSignUp=document.querySelector("#sign-up-button");function handleSignUp(e){e.preventDefault(),0==errors.length?alert("name: "+inputName.value+"\nsurname: "+inputSurname.value+"\nid: "+inputID.value+"\nphone: "+inputPhone.value+"\nbirth: "+inputBirth.value+"\naddress: "+inputAddress.value+"\ncity: "+inputCity.value+"\nzipcode: "+inputZipcode.value+"\nemail: "+inputEmail.value+"\npassword: "+inputPassword.value+"\nrPassword: "+inputRPassword.value):alert(`Errors: ${errors}`)}function removeError(e){var input=e.currentTarget;input.classList.remove("error"),input.parentNode.classList.remove("error");var errorElement=input.parentElement.querySelector(`#error-${input.name}`);errorElement&&errorElement.remove();for(let i=0;i<errors.length;i++)errors[i]==`The ${input.name} is not valid`&&(errors.splice(i,1),i--)}allInputs.forEach(input=>{input.addEventListener("focus",removeError)}),inputName.addEventListener("blur",validateName),inputSurname.addEventListener("blur",validateName),inputID.addEventListener("blur",validateID),inputPhone.addEventListener("blur",validatePhone),inputBirth.addEventListener("blur",validateBirth),inputAddress.addEventListener("blur",validateAddress),inputCity.addEventListener("blur",validateCity),inputZipcode.addEventListener("blur",validateZipcode),inputEmail.addEventListener("blur",validateEmail),inputPassword.addEventListener("blur",validatePassword),inputRPassword.addEventListener("blur",validateRPassword),buttonSignUp.addEventListener("click",handleSignUp);var errors=[];function createError(input){console.log("errors",errors),input.classList.add("error"),input.classList.remove("valid");var error=document.createElement("small");error.classList.add("errorMessage"),error.setAttribute("id",`error-${input.name}`),error.innerHTML=`The ${input.name} is not valid`,input.parentNode.insertBefore(error,input.nextSibling),input.parentNode.classList.add("error"),errors.push(`The ${input.name} is not valid`)}function createRPasswordError(input){input.classList.add("error"),input.classList.remove("valid");var error=document.createElement("small");error.classList.add("errorMessage"),error.setAttribute("id",`error-${input.name}`),error.innerHTML="The passwords dont match",input.parentNode.insertBefore(error,input.nextSibling)}function validateLength3(e){var input;return!(e.currentTarget.value.length<3)}function validateLetters(e){var input=e.currentTarget;for(let i=0;i<input.value.length;i++)if(parseFloat(input.value.charAt(i)))return!1;return!0}function validateNumbers(e){var input=e.currentTarget;for(let i=0;i<input.value.length;i++)if(!parseFloat(input.value.charAt(i))&&0!==parseFloat(input.value.charAt(i)))return!1;return!0}function checkNumbersAndLetters(str){var hasNumber=!1,hasLetter=!1;for(let i=0;i<str.length;i++)parseFloat(str.charAt(i))&&(hasNumber=!0),parseFloat(str.charAt(i))||" "==str.charAt(i)||(hasLetter=!0);return!(!hasNumber||!hasLetter)}function isAlphaNumeric(str){var code,i,len;for(i=0,len=str.length;i<len;i++)if(!((code=str.charCodeAt(i))>47&&code<58||code>64&&code<91||code>96&&code<123))return!1;return!0}function validateName(e){validateLetters(e)&&validateLength3(e)?e.currentTarget.classList.add("valid"):createError(e.currentTarget)}function validateID(e){e.currentTarget.value.length<7||!validateNumbers(e)?createError(e.currentTarget):e.currentTarget.classList.add("valid")}function validatePhone(e){10==e.currentTarget.value.length&&validateNumbers(e)?e.currentTarget.classList.add("valid"):createError(e.currentTarget)}function validateBirth(e){e.currentTarget.valueAsNumber>(new Date).getTime()?createError(e.currentTarget):e.currentTarget.classList.add("valid")}function validateAddress(e){var input=e.currentTarget,hasSpace=!1;for(let i=0;i<input.value.length;i++)0!=i&&i!=input.value.length&&" "==input.value.charAt(i)&&(hasSpace=!0);input.value.length<5||!hasSpace||!checkNumbersAndLetters(input.value)?createError(input):input.classList.add("valid")}function validateCity(e){e.currentTarget.value.length<3||!isAlphaNumeric(e.currentTarget.value)?createError(e.currentTarget):e.currentTarget.classList.add("valid")}function validateZipcode(e){e.currentTarget.value.length<4||e.currentTarget.value.length>5||!validateNumbers(e)?createError(e.currentTarget):e.currentTarget.classList.add("valid")}function validateEmail(e){var email=e.currentTarget.value;/[a-z0-9]+@[a-z]+\.[a-z]{2,3}/.test(email)?e.currentTarget.classList.add("valid"):createError(e.currentTarget)}function validatePassword(e){e.currentTarget.value.length<8||!checkNumbersAndLetters(e.currentTarget.value)?createError(e.currentTarget):e.currentTarget.classList.add("valid")}function validateRPassword(e){inputPassword.value!=e.currentTarget.value?createRPasswordError(e.currentTarget):e.currentTarget.classList.add("valid")}};